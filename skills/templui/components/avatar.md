# Avatar

> A circular image container with automatic fallback to initials or icons when the image fails to load.

## Install

```bash
templui add avatar
```

Dependencies auto-installed: none

Add to your base layout `<head>`: `@avatar.Script()`

## Update

```bash
templui add avatar
```

To update all: `templui --installed add`

## API

### Enums

No enums.

### Props

```go
type Props struct {
	ID         string
	Class      string
	Attributes templ.Attributes
}

type ImageProps struct {
	ID         string
	Class      string
	Attributes templ.Attributes
	Alt        string
	Src        string
}

type FallbackProps struct {
	ID         string
	Class      string
	Attributes templ.Attributes
}
```

## Components

| Function | Props | Description |
| -------- | ----- | ----------- |
| `Avatar(props ...Props)` | `Props` | Root wrapper `<div>` with circular clipping (`rounded-full`, `overflow-hidden`, 40x40 default). Accepts children. |
| `Image(props ...ImageProps)` | `ImageProps` | Renders an `<img>` element that fills the avatar container. When the image loads successfully, the sibling `Fallback` is hidden via JS. |
| `Fallback(props ...FallbackProps)` | `FallbackProps` | Renders a `<span>` placeholder shown when `Image` fails to load or has no `Src`. Styled with `bg-muted` and centered content. Accepts children (typically initials or an icon). |
| `Script()` | -- | Outputs the `<script>` tag for avatar image load/error handling. Auto-generated by `templui add`. Place in `<head>`. |

## Composition

```
Avatar
  Image
  Fallback
```

Each `Avatar` should contain one `Image` and one `Fallback`. The JavaScript automatically hides `Fallback` when `Image` loads successfully, and hides `Image` (showing `Fallback`) when the image fails to load.

## Dependencies

None -- only uses `utils` package.

## Context

No context passing.

## Data Attributes

| Attribute | Element | Purpose |
| --------- | ------- | ------- |
| `data-tui-avatar` | `Avatar` root `<div>` | Identifies the avatar container. |
| `data-tui-avatar-image` | `Image` `<img>` | Used by JS to listen for load/error events and toggle visibility. |
| `data-tui-avatar-fallback` | `Fallback` `<span>` | Used by JS to show/hide the fallback based on image load state. |

## Usage

```templ
@avatar.Avatar() {
  @avatar.Image(avatar.ImageProps{
    Src: "/images/users/jane.jpg",
    Alt: "Jane Doe",
  })
  @avatar.Fallback() {
    JD
  }
}
```
